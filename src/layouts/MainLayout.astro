---
import Header from "../components/Header.astro";
import "../styles/global.css";

const {
   title = "He-ro",
   lang = "ja",
   variant = "light",
   bodyClass = "",
   headerClass = "",
   mainClass = "",
   bodyStyle = "",
} = Astro.props;

const bodyClasses = ["layout-body", variant === "dark" ? "layout-body--dark" : "layout-body--light", bodyClass].filter(Boolean).join(" ");
const headerClasses = ["layout-header", headerClass].filter(Boolean).join(" ");
const mainClasses = ["layout-main", mainClass].filter(Boolean).join(" ");
---

<html lang={lang}>
   <head>
      <meta charset="utf-8" />
      <link rel="icon" type="image/x-icon" href="/Hero/favicon.ico" />
      <meta name="viewport" content="width=device-width" />
      <meta name="generator" content={Astro.generator} />
      <title>{title}</title>
      <slot name="head" />
   </head>
   <body class={bodyClasses} style={bodyStyle}>
      <div class="layout-shell">
         <header class={headerClasses}>
            <Header />
         </header>
         <div style='padding:1000 0;'></div>
         <main class={mainClasses}>
            <slot />
         </main>
      </div>
   </body>
</html>

<style>
   :global(html) {
      margin: 0;
      padding: 0;
      width: 100%;
      overflow-x: hidden;
   }

   :global(body) {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      width: 100%;
      overflow-x: hidden;
   }

   .layout-body {
      --layout-gap: clamp(1.2rem, 4vw, 2.8rem);
      --layout-padding-inline: clamp(1.25rem, 5vw, 3.5rem);
      --layout-main-padding-bottom: clamp(1.5rem, 6vw, 3rem);
      --layout-bg: #ffffff;
      --layout-color: #111111;
      margin: 0;
      min-height: 100svh;
      background: var(--layout-bg);
      color: var(--layout-color);
   }

   .layout-body--dark {
      --layout-gap: clamp(1.5rem, 5vw, 3.5rem);
      --layout-main-padding-bottom: clamp(2rem, 6vw, 4rem);
      --layout-bg: #000000;
      --layout-color: #f5f5f5;
   }

   .layout-shell {
      min-height: 100svh;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: var(--layout-gap);
      padding-top: env(safe-area-inset-top, 0px);
      overflow-x: hidden;
   }

   .layout-header {
      padding: clamp(0.85rem, 4vw, 2rem) var(--layout-padding-inline) 0;
      padding-left: max(var(--layout-padding-inline), env(safe-area-inset-left, 0px));
      padding-right: max(var(--layout-padding-inline), env(safe-area-inset-right, 0px));
   }

   .layout-main {
      flex: 1;
      width: 100%;
      padding: 0;
      padding-bottom: calc(var(--layout-main-padding-bottom) + env(safe-area-inset-bottom, 0px));
      overflow-x: hidden;
   }

   @media (max-width: 640px) {
      .layout-shell {
         gap: clamp(0.9rem, 4vw, 1.6rem);
      }
      .layout-header {
         padding-top: clamp(0.5rem, 3vw, 1.2rem);
      }
      .layout-main {
         padding-bottom: clamp(1.25rem, 8vw, 2.5rem);
      }
   }
</style>
