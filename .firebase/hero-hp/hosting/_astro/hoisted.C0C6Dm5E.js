import"./hoisted.Bub2xwCO.js";function m(){const t={threshold:.1,rootMargin:"0px 0px -50px 0px"},n=new IntersectionObserver(e=>{e.forEach(o=>{o.isIntersecting&&o.target.classList.add("visible")})},t);document.querySelectorAll(".scroll-fade").forEach(e=>{e.classList.remove("visible")}),document.querySelectorAll(".hero-section .scroll-fade").forEach(e=>{e.classList.add("visible")}),document.querySelectorAll(".scroll-fade").forEach(e=>{n.observe(e)}),setTimeout(()=>{document.querySelectorAll(".scroll-fade").forEach(e=>{const o=e.getBoundingClientRect(),s=window.innerHeight;o.top<s*.9&&e.classList.add("visible")})},100)}function u(){const t=document.documentElement,n=document.body;t.style.overflow="auto",t.style.overflowX="hidden",t.style.scrollBehavior="smooth",t.style.height="auto",n.style.overflow="auto",n.style.overflowX="hidden",n.style.scrollBehavior="smooth",n.style.height="auto",n.style.minHeight="100vh",document.querySelectorAll(".hero-section, .apps-section, .riddle-section, .summaries-section, .contact-section-wrapper").forEach((c,r)=>{const l=c;l.style.position="relative",l.style.overflow="visible",l.style.pointerEvents="auto",l.style.touchAction="pan-y",l.style.zIndex=String(r+1),l.style.transform="translateZ(0)",l.style.maxHeight="none",l.style.height="auto"});const e=document.querySelector(".home-main");e&&(e.style.overflow="visible",e.style.overflowX="hidden",e.style.height="auto",e.style.minHeight="100vh",e.style.position="relative");const o=document.querySelector(".header");o&&(o.style.position="fixed",o.style.zIndex="1000",o.style.pointerEvents="auto"),document.querySelectorAll(".section-content, .animated-content, .app-showcase, .contact-section").forEach(c=>{const r=c;r.style.pointerEvents="auto",r.style.touchAction="pan-y",r.style.position="relative"}),setTimeout(()=>{window.scrollTo(0,window.pageYOffset)},100)}function d(t,n){let i;return function(...o){const s=()=>{clearTimeout(i),t(...o)};clearTimeout(i),i=setTimeout(s,n)}}function h(){const t=d(()=>{const o=window.pageYOffset||document.documentElement.scrollTop,s=document.documentElement.scrollHeight,c=window.innerHeight,r=o/(s-c)*100;console.log("Scroll Debug:",{position:o,documentHeight:s,windowHeight:c,maxScroll:s-c,percentage:Math.round(r)})},100);window.addEventListener("scroll",t,{passive:!0});let n=0,i=0;const e=d(()=>{const o=window.pageYOffset||document.documentElement.scrollTop;Math.abs(o-n)<1?(i++,i>10&&(console.warn("Scroll appears to be stuck, attempting fix..."),u(),i=0)):i=0,n=o},500);window.addEventListener("scroll",e,{passive:!0})}function g(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.addEventListener("load",()=>{const t=sessionStorage.getItem("scrollPosition");t&&setTimeout(()=>{window.scrollTo(0,parseInt(t,10)),sessionStorage.removeItem("scrollPosition")},100)}),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("scrollPosition",String(window.pageYOffset))})}function a(){try{m(),u(),g(),window.location.search.includes("debug=scroll")&&h(),setTimeout(()=>{const t=document.documentElement.scrollHeight,n=window.innerHeight;console.log("Page initialization complete. Document height:",t,"Window height:",n)},200)}catch(t){console.error("Error initializing page:",t)}}document.addEventListener("DOMContentLoaded",a);document.addEventListener("astro:page-load",a);document.addEventListener("visibilitychange",()=>{document.hidden||setTimeout(a,100)});window.addEventListener("pageshow",t=>{t.persisted&&setTimeout(a,100)});window.addEventListener("popstate",()=>{setTimeout(a,100)});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a();
