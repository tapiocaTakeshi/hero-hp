document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("hamburger-menu"),o=document.getElementById("nav-menu"),m=document.getElementById("nav-close"),f=document.getElementById("nav-overlay"),l=document.getElementById("desktop-nav"),h=document.querySelector(".header");if(!n||!o||!m||!f)return;function s(){if(!h)return;const t=h.offsetHeight,i=document.body;let d=t+20;window.innerWidth<=768&&(d=t+10),window.innerWidth<=480&&(d=t+5),i.style.paddingTop=`${d}px`,console.log("Header height adjustment:",{headerHeight:t,windowWidth:window.innerWidth,appliedPadding:d})}function a(){const e=document.documentElement,t=document.body;e.style.overflow="auto",e.style.overflowX="hidden",e.style.scrollBehavior="smooth",e.style.height="auto",e.style.minHeight="100vh",t.style.overflow="auto",t.style.overflowX="hidden",t.style.height="auto",t.style.minHeight="100vh",t.style.position="relative",window.scrollTo({top:0,left:0,behavior:"instant"})}s(),a();let r;window.addEventListener("resize",function(){r&&clearTimeout(r),r=setTimeout(()=>{s(),a()},100)}),window.addEventListener("load",function(){setTimeout(()=>{s(),a()},200)});function y(){o?.classList.add("active"),n?.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden";const e=o?.querySelector(".nav-link");e&&"focus"in e&&e.focus()}function c(){o?.classList.remove("active"),n?.setAttribute("aria-expanded","false"),document.body.style.overflow="",n&&"focus"in n&&n.focus()}n.addEventListener("click",y),m.addEventListener("click",c),f.addEventListener("click",c),document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",c)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&o?.classList.contains("active")&&c()});function u(){const e=window.location.pathname;document.querySelectorAll(".desktop-nav-link, .nav-link").forEach(i=>{i.classList.remove("active")}),document.querySelectorAll(`[href="${e}"]`).forEach(i=>{i.classList.add("active")}),(e==="/"||e==="")&&document.querySelectorAll('[data-page="home"]').forEach(d=>d.classList.add("active"))}function v(){const e=window.innerWidth<=1024;l&&n&&(e?(l.style.display="none",n.style.display="flex"):(l.style.display="flex",n.style.display="none",o?.classList.contains("active")&&c()))}u(),v(),window.addEventListener("resize",v),window.addEventListener("popstate",u),document.addEventListener("astro:page-load",()=>{u(),v(),setTimeout(()=>{s(),a()},100)}),window.addEventListener("orientationchange",function(){setTimeout(()=>{s(),a()},300)})});
